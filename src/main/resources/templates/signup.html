<!doctype html>

<!-- In this html page i want to bring base.html. For that i am going to replace it with base but instead of writing html i am going to pass layout and in my layout i am going to pass my below section i.e., its reference which will go in my base.html layout(content) and then into the div and then as a whole it will come to home -->


<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::layout(~{::section})}">

<head>
	<meta charset="UTF-8" />
	<title>This is home page</title>
</head>
<body>
	<section>
	<!-- Going to create a container. In bootstarp each row has 12 grids -->
	<div class="container">
		<div class="row">
		<!-- This div will take grid of medium. Since it is taking only 8 grids so 4 will be left. To shift the grid use offset -->
		<div class="col-md-8 offset-md-2">
		<div class="my-card mt-1">
		
		<!-- Mujhe is message ko tabhi dikhana hai jab session mai message name ka attribute ho for this using if loop. Adding dynamic alert classappend also which will help us to give type if message is success it will show green if not then red. I wnat to show some message for that i will take content from session but ek baar message dikhne ke baad i want to remove it as well-->
	 <!--  	 <div th:if="${session.message}" th:classappend="${session.message.type} ? 'alert ' + ${session.message.type}" class="alert" role="alert"> -->
  <!--    <p th:text="${session.message.content}"></p> -->
    <!-- Clear the session attribute after displaying the message -->
     <!--  <th:block th:text="${session.removeAttribute('message')}"></th:block> -->
 <!--  	</div> -->
 <div th:if="${session.message}" th:class="${session.message.type} ? 'alert ' + ${session.message.type}" role="alert">
    <p th:text="${session.message.content}"></p>
</div>

 
	
	
  <!--    <th:block th:if="${session.message}" th:classappend="${session.message.type} ? 'alert ' + ${session.message.type}" class="alert" role="alert"> -->
  <!--   <p th:text="${session.message.content}"></p> -->
    <!-- Clear the session attribute after displaying the message -->
  <!--    </th:block>  -->
	
		
		
    
		
		<!-- Code to add image above register -->
		
		<img style="width: 100px;" src="" th:src="@{/img/membership.png}" alt="" />
		
		<h1 class="text-center">Register Here</h1>
		
		<!-- Create a form and pass the url where our form will submit .Method i am using is post because i want to set password -->
		<!-- th:object- Jo user vaha se aa raha hai uska reference rakhne ke leye controller se. If anytime servor side rendering happens and their is any user present already that data should be visible in my boxes i.e., below fields -->
		<!-- With novalidate we are turning off html validate -->
		<form novalidate action="/register" th:action="@{/register}" method="post" th:object="${user}">
		
		
		<!-- Adding fields into the form -->
		<!-- name field -->
		
		<div class="form-group">
    <label for="name_field">Your Name</label>
    <!-- This name should match with the fields we have passed in entity class -->
    <input 
    name="name"
    type="text" 
    class="form-control" 
    th:classappend="${#fields.hasErrors('name') ? 'is-invalid':''}"
    id="name_field" 
    aria-describedby="emailHelp"
    placeholder="Enter here"
    required
    th:value="${user.name}">
    <!-- For displaying errors. Took this code from bootstrap -->
    
    <div class="invalid-feedback" th:each="e : ${#fields.errors('name')}" th:text="${e}">
    
    </div>
    </div>
		
		
	
	<!-- email field -->
		
		<div class="form-group">
    <label for="email_field">Your Email</label>
    
    <input 
    type="email" 
    name="email"
    th:value="${user.email}"
    th:classappend="${#fields.hasErrors('email')?'is-invalid' : ''}"
    class="form-control" 
    id="email_field" 
    aria-describedby="emailHelp"
    placeholder="Enter here"
    required
    >
    <div th:each="e : ${#fields.errors('email')}" th:text="${e}" id="validationServer03Feedback" class="invalid-feedback"></div>
		 </div>
		 
		 <!-- password field -->
		
		<div class="form-group">
    <label for="password_field">Your Password</label>
    
    <input 
    name="password"
    type="password" 
    class="form-control" 
    th:classappend="${#fields.hasErrors('password') ? 'is-invalid':''}"
    id="password_field" 
    aria-describedby="emailHelp"
    placeholder="Enter here"
    required>
    <div th:each="e : ${#fields.errors('password')}" th:text="${e}" id="validationServer03Feedback" class="invalid-feedback"></div>
		 </div>
		 
		 <!-- user about field -->
		 <div class="form-group">
		 <textarea name="about" th:value="${user.about}" placeholder="Write something about yourself" rows="10" class="form-control"></textarea>
		 </div>
		 
		 <!-- Terms and Condition agreement -->
		 
		 <div class="form-group form-check">
		 	<input type="checkbox" 
		 		   name="agreement"
		 		   class="form-check-input"
		 		   id="agreement"
		 	 	/>
		 		   <label for="agreement">Accept terms and conditions</label>
		 </div>
		 
		 
		 <!-- Creating Buttons -->
		 <div class="container text-center">
		 <button type="submit" class="btn hello text-white">
		   Submit
		 </button>
		 <button type="reset" class="btn hello text-white">
		   Reset
		 </button>
		 </div>
		 
		</form>
		
		</div>
		
		</div>
		</div>
	</div>
	
	
	</section>
</body>
</html>